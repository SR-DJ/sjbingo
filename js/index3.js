const a3_0x461b7d=a3_0x59d4;(function(_0x4cb974,_0x1956dd){const _0x5f193a=a3_0x59d4,_0x30c20c=_0x4cb974();while(!![]){try{const _0x25f957=-parseInt(_0x5f193a(0x11f))/0x1+-parseInt(_0x5f193a(0xf3))/0x2+-parseInt(_0x5f193a(0x81))/0x3+-parseInt(_0x5f193a(0xa5))/0x4*(parseInt(_0x5f193a(0xb6))/0x5)+parseInt(_0x5f193a(0xeb))/0x6*(-parseInt(_0x5f193a(0xca))/0x7)+parseInt(_0x5f193a(0x102))/0x8+parseInt(_0x5f193a(0xbc))/0x9;if(_0x25f957===_0x1956dd)break;else _0x30c20c['push'](_0x30c20c['shift']());}catch(_0x4a0011){_0x30c20c['push'](_0x30c20c['shift']());}}}(a3_0x498c,0xb1054));const gridEl=document[a3_0x461b7d(0xcf)](a3_0x461b7d(0xfe)),ruleText=document[a3_0x461b7d(0xcf)]('ruleText'),modal=document['getElementById'](a3_0x461b7d(0xcd)),fileInput=document['getElementById']('fileInput'),GRID_SIZE=0x9;let gridData=[],currentTarget=0x3,cellTypes=[],pathLines=[],gridContentKeys=[],gridImageKeys=[],usageCount={},historyRecords=[],currentHistoryIndex=-0x1;const MAX_HISTORY=0x14;function generateImageList(_0xab0296,_0x33d448=a3_0x461b7d(0x100)){const _0x2b0d24=(function(){let _0x271dac=!![];return function(_0x56689c,_0x27a890){const _0x42b607=_0x271dac?function(){const _0x3413a2=a3_0x59d4;if(_0x27a890){const _0x3e7781=_0x27a890[_0x3413a2(0xf0)](_0x56689c,arguments);return _0x27a890=null,_0x3e7781;}}:function(){};return _0x271dac=![],_0x42b607;};}()),_0x428c0d=_0x2b0d24(this,function(){const _0x495724=a3_0x59d4;return _0x428c0d['toString']()['search'](_0x495724(0xb0))[_0x495724(0x78)]()[_0x495724(0xe2)](_0x428c0d)[_0x495724(0xe6)](_0x495724(0xb0));});_0x428c0d();const _0x2f1d73=[];for(let _0x187ba5=0x1;_0x187ba5<=_0xab0296;_0x187ba5++){_0x2f1d73['push'](_0x187ba5+'.'+_0x33d448);}return _0x2f1d73;}let weightsConfig={'outer':{},'inner':{}};async function loadWeightsConfig(){const _0x623b79=a3_0x461b7d;try{const _0x1c77d4=await fetch('weights_config.json');if(_0x1c77d4['ok']){const _0x9c2cda=await _0x1c77d4[_0x623b79(0xdf)]();if(_0x9c2cda[_0x623b79(0x101)]&&_0x9c2cda[_0x623b79(0x101)][_0x623b79(0x126)])for(const [_0x10e67f,_0x3a45fb]of Object['entries'](_0x9c2cda[_0x623b79(0x101)][_0x623b79(0x126)])){weightsConfig['outer'][_0x10e67f]=_0x3a45fb[_0x623b79(0x98)]||0x1;}if(_0x9c2cda['inner']&&_0x9c2cda[_0x623b79(0x91)]['items'])for(const [_0xbcd67d,_0x2f7c39]of Object[_0x623b79(0x104)](_0x9c2cda['inner']['items'])){weightsConfig[_0x623b79(0x91)][_0xbcd67d]=_0x2f7c39['weight']||0x1;}console[_0x623b79(0x109)](_0x623b79(0x9c),weightsConfig);}else console[_0x623b79(0x128)]('æƒé‡é…ç½®æ–‡ä»¶ä¸å­˜åœ¨ï¼Œä½¿ç”¨é»˜è®¤æƒé‡');}catch(_0xa36e2b){console[_0x623b79(0x128)](_0x623b79(0x12c),_0xa36e2b);}}function getImageWeight(_0x4a547f,_0xaf047b){const _0x34a0fd=a3_0x461b7d;if(_0xaf047b==='outer')return weightsConfig[_0x34a0fd(0x101)][_0x4a547f]||0x1;else{if(_0xaf047b===_0x34a0fd(0x91))return weightsConfig[_0x34a0fd(0x91)][_0x4a547f]||0x1;}return 0x1;}function weightedShuffle(_0x4f1a6c,_0x43c845){const _0x3d4bf7=a3_0x461b7d,_0x33de25=[];for(const _0x1750f0 of _0x4f1a6c){const _0x34eb00=getImageWeight(_0x1750f0,_0x43c845);if(_0x34eb00>0x0)for(let _0x7eff6f=0x0;_0x7eff6f<_0x34eb00;_0x7eff6f++){_0x33de25['push'](_0x1750f0);}}const _0x293a94=_0x33de25[_0x3d4bf7(0x82)](()=>Math[_0x3d4bf7(0xd1)]()-0.5),_0x453700=new Set(),_0x4e5576=[];for(const _0x4f9e7b of _0x293a94){!_0x453700[_0x3d4bf7(0xd3)](_0x4f9e7b)&&(_0x453700[_0x3d4bf7(0xac)](_0x4f9e7b),_0x4e5576[_0x3d4bf7(0x7b)](_0x4f9e7b));}return _0x4e5576;}const outerConfig={'folder':a3_0x461b7d(0xc0),'imageCount':0x1b,'extension':a3_0x461b7d(0x100),'maxUsage':0x3};outerConfig['images']=generateImageList(outerConfig[a3_0x461b7d(0xf5)],outerConfig[a3_0x461b7d(0x125)]);const path1Config={'folder':a3_0x461b7d(0x84),'imageCount':0x7,'extension':a3_0x461b7d(0x100)};path1Config[a3_0x461b7d(0x97)]=generateImageList(path1Config[a3_0x461b7d(0xf5)],path1Config[a3_0x461b7d(0x125)]);const path2Config={'folder':a3_0x461b7d(0xaa),'imageCount':0x7,'extension':a3_0x461b7d(0x100)};path2Config[a3_0x461b7d(0x97)]=generateImageList(path2Config[a3_0x461b7d(0xf5)],path2Config[a3_0x461b7d(0x125)]);const innerConfig={'folder':a3_0x461b7d(0x11c),'imageCount':0x1d,'extension':a3_0x461b7d(0x100),'maxUsage':0x3};innerConfig['images']=generateImageList(innerConfig[a3_0x461b7d(0xf5)],innerConfig[a3_0x461b7d(0x125)]);const pathConfigSettings={'crossProbability':0.4,'minCrossCells':0x1,'maxCrossCells':0x3},imageContentMap={'images3/path1/1.jpg':a3_0x461b7d(0x95),'images3/path2/1.jpg':a3_0x461b7d(0x95),'images3/inner/23.jpg':'content_A','images3/path1/2.jpg':a3_0x461b7d(0xab),'images3/inner/20.jpg':'content_B','images3/path1/3.jpg':a3_0x461b7d(0x6b),'images3/inner/21.jpg':'content_C','images3/path1/4.jpg':a3_0x461b7d(0x93),'images3/inner/25.jpg':a3_0x461b7d(0x93),'images3/path1/5.jpg':'content_E','images3/inner/26.jpg':a3_0x461b7d(0x6f),'images3/path1/7.jpg':a3_0x461b7d(0x9f),'images3/path2/7.jpg':'content_G','images3/inner/19.jpg':a3_0x461b7d(0x9f),'images3/path2/2.jpg':a3_0x461b7d(0xa2),'images3/inner/3.jpg':a3_0x461b7d(0xa2),'images3/path2/3.jpg':a3_0x461b7d(0xfd),'images3/inner/7.jpg':a3_0x461b7d(0xfd),'images3/path2/4.jpg':a3_0x461b7d(0x107),'images3/inner/5.jpg':a3_0x461b7d(0x107),'images3/path2/5.jpg':a3_0x461b7d(0xe1),'images3/inner/1.jpg':'content_K','images3/path2/6.jpg':a3_0x461b7d(0xc6),'images3/inner/27.jpg':a3_0x461b7d(0xc6),'images3/path1/6.jpg':'content_M','images3/inner/14.jpg':a3_0x461b7d(0xcb)};function getContentKey(_0x416dd1){return imageContentMap[_0x416dd1]||_0x416dd1;}const maxUsageLimits={'images3/inner/1.jpg':0x1,'images3/inner/2.jpg':0x2,'content_A':0x3,'content_H':0x3,'images3/inner/3.jpg':0x2,'images3/inner/4.jpg':0x2,'images3/inner/5.jpg':0x2,'images3/inner/6.jpg':0x2,'images3/inner/7.jpg':0x1,'images3/inner/23.jpg':0x2,'images3/inner/25.jpg':0x1,'images3/inner/26.jpg':0x2,'content_C':0x2,'content_J':0x2,'content_K':0x2,'content_F':0x2,'content_D':0x2};function getMaxUsage(_0x4016ae){return maxUsageLimits[_0x4016ae]!==undefined?maxUsageLimits[_0x4016ae]:0x3;}function a3_0x59d4(_0x3c0dd5,_0xdb168){_0x3c0dd5=_0x3c0dd5-0x6b;const _0x4e1db7=a3_0x498c();let _0x187d70=_0x4e1db7[_0x3c0dd5];return _0x187d70;}function isInner7x7(_0x5cb3d6,_0x54eb9e){return _0x5cb3d6>=0x1&&_0x5cb3d6<=0x7&&_0x54eb9e>=0x1&&_0x54eb9e<=0x7;}function checkAdjacent8(_0x1a37e5,_0xfbdfe4,_0x2eed4d){const _0x11c910=[[-0x1,-0x1],[-0x1,0x0],[-0x1,0x1],[0x0,-0x1],[0x0,0x1],[0x1,-0x1],[0x1,0x0],[0x1,0x1]];for(const [_0x303c8c,_0x30f08c]of _0x11c910){const _0x5c8b49=_0x1a37e5+_0x303c8c,_0x25bcc5=_0xfbdfe4+_0x30f08c;if(_0x5c8b49>=0x0&&_0x5c8b49<GRID_SIZE&&_0x25bcc5>=0x0&&_0x25bcc5<GRID_SIZE){if(gridContentKeys[_0x5c8b49]&&gridContentKeys[_0x5c8b49][_0x25bcc5]===_0x2eed4d)return![];}}return!![];}function checkRowColDiagonal(_0x31a502,_0x11ddd2,_0x4660e6){for(let _0x5bb346=0x0;_0x5bb346<GRID_SIZE;_0x5bb346++){if(_0x5bb346!==_0x11ddd2&&gridContentKeys[_0x31a502][_0x5bb346]===_0x4660e6)return![];}for(let _0x246b65=0x0;_0x246b65<GRID_SIZE;_0x246b65++){if(_0x246b65!==_0x31a502&&gridContentKeys[_0x246b65][_0x11ddd2]===_0x4660e6)return![];}if(_0x31a502===_0x11ddd2)for(let _0x563c6c=0x0;_0x563c6c<GRID_SIZE;_0x563c6c++){if(_0x563c6c!==_0x31a502&&gridContentKeys[_0x563c6c][_0x563c6c]===_0x4660e6)return![];}if(_0x31a502+_0x11ddd2===GRID_SIZE-0x1)for(let _0x39f9b4=0x0;_0x39f9b4<GRID_SIZE;_0x39f9b4++){if(_0x39f9b4!==_0x31a502&&gridContentKeys[_0x39f9b4][GRID_SIZE-0x1-_0x39f9b4]===_0x4660e6)return![];}return!![];}function initImageSystem(){gridContentKeys=[],gridImageKeys=[],usageCount={};for(let _0x402aac=0x0;_0x402aac<GRID_SIZE;_0x402aac++){gridContentKeys[_0x402aac]=[],gridImageKeys[_0x402aac]=[];for(let _0x373661=0x0;_0x373661<GRID_SIZE;_0x373661++){gridContentKeys[_0x402aac][_0x373661]=null,gridImageKeys[_0x402aac][_0x373661]=null;}}}function canPlaceImageAtCoord(_0x1f274d,_0x5eab2e,_0x4b4407){return isInner7x7(_0x1f274d,_0x5eab2e)?checkAdjacent8(_0x1f274d,_0x5eab2e,_0x4b4407):checkRowColDiagonal(_0x1f274d,_0x5eab2e,_0x4b4407);}function canUseContentKey(_0x402353,_0x2e3d2d=0x3){const _0x41fa50=a3_0x461b7d,_0x35fe58=getMaxUsage(_0x402353),_0x513198=Math[_0x41fa50(0xf9)](_0x35fe58,_0x2e3d2d);return(usageCount[_0x402353]||0x0)<_0x513198;}function placeImageAtCoord(_0x161a41,_0x13146f,_0x589094){const _0x4762e0=a3_0x461b7d,_0x3cfeb4=getContentKey(_0x589094);return gridContentKeys[_0x161a41][_0x13146f]=_0x3cfeb4,gridImageKeys[_0x161a41][_0x13146f]=_0x589094,usageCount[_0x3cfeb4]=(usageCount[_0x3cfeb4]||0x0)+0x1,console['log']('âœ“\x20åæ ‡('+_0x161a41+','+_0x13146f+_0x4762e0(0xb5)+_0x589094+_0x4762e0(0x7a)+_0x3cfeb4+_0x4762e0(0x123)+usageCount[_0x3cfeb4]+')'),_0x589094;}function assignPathImages(_0x2ca665,_0x4d6e64,_0x593495){const _0x5a07e5=a3_0x461b7d;console[_0x5a07e5(0x109)](_0x5a07e5(0x6c)+_0x593495+_0x5a07e5(0x7c)+_0x2ca665[_0x5a07e5(0xd8)]+'ä¸ªæ ¼å­,\x20'+_0x4d6e64[_0x5a07e5(0x97)][_0x5a07e5(0xd8)]+_0x5a07e5(0x76));const _0x3531bc=[..._0x2ca665][_0x5a07e5(0x82)](()=>Math['random']()-0.5),_0x37bcc5=[..._0x4d6e64[_0x5a07e5(0x97)]][_0x5a07e5(0x82)](()=>Math[_0x5a07e5(0xd1)]()-0.5),_0x44a13f=new Set();for(let _0x3218f2=0x0;_0x3218f2<_0x3531bc[_0x5a07e5(0xd8)];_0x3218f2++){const {row:_0x4bf09a,col:_0x25dc5d}=_0x3531bc[_0x3218f2];let _0x5ed998=![];for(let _0x19f17f=0x0;_0x19f17f<_0x37bcc5[_0x5a07e5(0xd8)];_0x19f17f++){if(_0x44a13f[_0x5a07e5(0xd3)](_0x19f17f))continue;const _0xc67d76=_0x37bcc5[_0x19f17f],_0x47b12a=_0x4d6e64[_0x5a07e5(0x73)]+_0xc67d76,_0xe77c5c=getContentKey(_0x47b12a);if(canPlaceImageAtCoord(_0x4bf09a,_0x25dc5d,_0xe77c5c)&&canUseContentKey(_0xe77c5c,0x3)){placeImageAtCoord(_0x4bf09a,_0x25dc5d,_0x47b12a),_0x44a13f[_0x5a07e5(0xac)](_0x19f17f),_0x5ed998=!![];break;}}if(!_0x5ed998)for(let _0x440525=0x0;_0x440525<_0x37bcc5[_0x5a07e5(0xd8)];_0x440525++){if(_0x44a13f[_0x5a07e5(0xd3)](_0x440525))continue;const _0x59617f=_0x37bcc5[_0x440525],_0x514701=_0x4d6e64[_0x5a07e5(0x73)]+_0x59617f,_0x9c83b2=getContentKey(_0x514701);if(canPlaceImageAtCoord(_0x4bf09a,_0x25dc5d,_0x9c83b2)&&canUseContentKey(_0x9c83b2,0x3)){console['warn'](_0x593495+_0x5a07e5(0x10a)+_0x4bf09a+','+_0x25dc5d+')å¼ºåˆ¶ä½¿ç”¨:\x20'+_0x514701),placeImageAtCoord(_0x4bf09a,_0x25dc5d,_0x514701),_0x44a13f['add'](_0x440525),_0x5ed998=!![];break;}}if(!_0x5ed998){const _0x120cfd=[...innerConfig[_0x5a07e5(0xd6)]][_0x5a07e5(0x82)](()=>Math[_0x5a07e5(0xd1)]()-0.5);for(const _0x95b2ef of _0x120cfd){const _0x19cb79=innerConfig['folder']+_0x95b2ef,_0x1b93e9=getContentKey(_0x19cb79);if(canPlaceImageAtCoord(_0x4bf09a,_0x25dc5d,_0x1b93e9)&&canUseContentKey(_0x1b93e9,0x3)){console[_0x5a07e5(0x128)](_0x593495+'æ ¼å­('+_0x4bf09a+','+_0x25dc5d+_0x5a07e5(0xae)+_0x19cb79),placeImageAtCoord(_0x4bf09a,_0x25dc5d,_0x19cb79),_0x5ed998=!![];break;}}}if(!_0x5ed998){const _0x5123c3=[...innerConfig['images']]['sort'](()=>Math[_0x5a07e5(0xd1)]()-0.5);for(const _0x2abc10 of _0x5123c3){const _0x3cb0ac=innerConfig[_0x5a07e5(0x73)]+_0x2abc10,_0x141f2c=getContentKey(_0x3cb0ac);if(canPlaceImageAtCoord(_0x4bf09a,_0x25dc5d,_0x141f2c)){console[_0x5a07e5(0x128)](_0x593495+_0x5a07e5(0x10a)+_0x4bf09a+','+_0x25dc5d+_0x5a07e5(0xf1)+_0x3cb0ac),placeImageAtCoord(_0x4bf09a,_0x25dc5d,_0x3cb0ac),_0x5ed998=!![];break;}}}}}function selectImageForInnerCell(_0xb29fed,_0x36c028){const _0x3a2865=a3_0x461b7d,_0x16a103=innerConfig['images'],_0x285fa1=weightedShuffle(_0x16a103,_0x3a2865(0x91));for(const _0x298c3e of _0x285fa1){const _0x186aea=innerConfig[_0x3a2865(0x73)]+_0x298c3e,_0x4b8991=getContentKey(_0x186aea);if(canPlaceImageAtCoord(_0xb29fed,_0x36c028,_0x4b8991)&&canUseContentKey(_0x4b8991,0x3))return placeImageAtCoord(_0xb29fed,_0x36c028,_0x186aea);}for(const _0x35df18 of _0x285fa1){const _0x4cebb4=innerConfig[_0x3a2865(0x73)]+_0x35df18,_0x29d5d8=getContentKey(_0x4cebb4);if(canPlaceImageAtCoord(_0xb29fed,_0x36c028,_0x29d5d8))return console[_0x3a2865(0x128)](_0x3a2865(0xc8)+_0xb29fed+','+_0x36c028+_0x3a2865(0xf1)+_0x4cebb4),placeImageAtCoord(_0xb29fed,_0x36c028,_0x4cebb4);}const _0x5813e9=innerConfig[_0x3a2865(0x73)]+_0x285fa1[0x0];return console[_0x3a2865(0x121)](_0x3a2865(0xc8)+_0xb29fed+','+_0x36c028+_0x3a2865(0x9d)+_0x5813e9),placeImageAtCoord(_0xb29fed,_0x36c028,_0x5813e9);}function selectImageForOuterCell(_0x3821b9,_0x59d8f8){const _0x3465b8=a3_0x461b7d,_0x6ea0e5=outerConfig[_0x3465b8(0xd6)],_0xf18146=weightedShuffle(_0x6ea0e5,_0x3465b8(0x101));for(const _0x4cde34 of _0xf18146){const _0x28547a=outerConfig['folder']+_0x4cde34,_0x475b2a=getContentKey(_0x28547a);if(canPlaceImageAtCoord(_0x3821b9,_0x59d8f8,_0x475b2a)&&canUseContentKey(_0x475b2a,0x3))return placeImageAtCoord(_0x3821b9,_0x59d8f8,_0x28547a);}for(const _0x351197 of _0xf18146){const _0xb8f98c=outerConfig[_0x3465b8(0x73)]+_0x351197,_0x5f35af=getContentKey(_0xb8f98c);if(canPlaceImageAtCoord(_0x3821b9,_0x59d8f8,_0x5f35af))return console['warn'](_0x3465b8(0x7e)+_0x3821b9+','+_0x59d8f8+_0x3465b8(0xf1)+_0xb8f98c),placeImageAtCoord(_0x3821b9,_0x59d8f8,_0xb8f98c);}const _0x4198af=outerConfig[_0x3465b8(0x73)]+_0xf18146[0x0];return console[_0x3465b8(0x121)](_0x3465b8(0x7e)+_0x3821b9+','+_0x59d8f8+_0x3465b8(0x9d)+_0x4198af),placeImageAtCoord(_0x3821b9,_0x59d8f8,_0x4198af);}function fillGridImagesByCoord(){const _0x5764c2=a3_0x461b7d;console[_0x5764c2(0x109)](_0x5764c2(0xde)),initImageSystem();const _0x5a553e=[],_0x5b15c3=[],_0x3e66da=[],_0x2e4204=[],_0x26e201=[];for(let _0x2a5127=0x0;_0x2a5127<GRID_SIZE;_0x2a5127++){for(let _0x4e6894=0x0;_0x4e6894<GRID_SIZE;_0x4e6894++){const _0x570699=cellTypes[_0x2a5127][_0x4e6894],_0x26b83c={'row':_0x2a5127,'col':_0x4e6894};if(_0x570699==='path1')_0x5a553e[_0x5764c2(0x7b)](_0x26b83c);else{if(_0x570699===_0x5764c2(0x129))_0x5b15c3[_0x5764c2(0x7b)](_0x26b83c);else{if(_0x570699==='cross')_0x3e66da[_0x5764c2(0x7b)](_0x26b83c);else _0x570699===_0x5764c2(0x101)?_0x26e201['push'](_0x26b83c):_0x2e4204['push'](_0x26b83c);}}}}console[_0x5764c2(0x109)](_0x5764c2(0x12d)+_0x5a553e[_0x5764c2(0xd8)]+_0x5764c2(0x71)+_0x5b15c3['length']+_0x5764c2(0x6d)+_0x3e66da[_0x5764c2(0xd8)]+_0x5764c2(0x94)+_0x2e4204[_0x5764c2(0xd8)]+_0x5764c2(0xf8)+_0x26e201[_0x5764c2(0xd8)]);const _0x1ee616=[..._0x5a553e,..._0x3e66da];assignPathImages(_0x1ee616,path1Config,_0x5764c2(0xea)),assignPathImages(_0x5b15c3,path2Config,_0x5764c2(0x129)),console[_0x5764c2(0x109)]('---\x20å¡«å……outeråŒºåŸŸ\x20---');for(const {row:_0x261aa3,col:_0x48e88a}of _0x26e201){selectImageForOuterCell(_0x261aa3,_0x48e88a);}console['log'](_0x5764c2(0x72));for(const {row:_0x117286,col:_0x410d5b}of _0x2e4204){selectImageForInnerCell(_0x117286,_0x410d5b);}return validateGridAfterFill(),console[_0x5764c2(0x109)](_0x5764c2(0x79)),gridImageKeys;}function validateGridAfterFill(){const _0x5bf899=a3_0x461b7d;let _0x4cfca0=![];console['log'](_0x5bf899(0x11b));for(let _0x40b6d7=0x0;_0x40b6d7<GRID_SIZE;_0x40b6d7++){for(let _0x201fc2=0x0;_0x201fc2<GRID_SIZE;_0x201fc2++){const _0x5acc74=gridContentKeys[_0x40b6d7][_0x201fc2];if(!_0x5acc74)continue;if(isInner7x7(_0x40b6d7,_0x201fc2)){const _0x7f774d=[[-0x1,-0x1],[-0x1,0x0],[-0x1,0x1],[0x0,-0x1],[0x0,0x1],[0x1,-0x1],[0x1,0x0],[0x1,0x1]];for(const [_0x44ee66,_0x3f51e1]of _0x7f774d){const _0x1cbae9=_0x40b6d7+_0x44ee66,_0xfe7f4c=_0x201fc2+_0x3f51e1;_0x1cbae9>=0x0&&_0x1cbae9<GRID_SIZE&&_0xfe7f4c>=0x0&&_0xfe7f4c<GRID_SIZE&&(gridContentKeys[_0x1cbae9][_0xfe7f4c]===_0x5acc74&&(console['error'](_0x5bf899(0x10e)+_0x40b6d7+','+_0x201fc2+_0x5bf899(0xfa)+_0x1cbae9+','+_0xfe7f4c+_0x5bf899(0x111)+_0x5acc74),_0x4cfca0=!![]));}}else{for(let _0x44acdb=0x0;_0x44acdb<GRID_SIZE;_0x44acdb++){_0x44acdb!==_0x201fc2&&gridContentKeys[_0x40b6d7][_0x44acdb]===_0x5acc74&&(console['error'](_0x5bf899(0x117)+_0x40b6d7+','+_0x201fc2+')\x20å’Œ\x20('+_0x40b6d7+','+_0x44acdb+_0x5bf899(0x111)+_0x5acc74),_0x4cfca0=!![]);}for(let _0x11eed4=0x0;_0x11eed4<GRID_SIZE;_0x11eed4++){_0x11eed4!==_0x40b6d7&&gridContentKeys[_0x11eed4][_0x201fc2]===_0x5acc74&&(console['error'](_0x5bf899(0x77)+_0x40b6d7+','+_0x201fc2+_0x5bf899(0xfa)+_0x11eed4+','+_0x201fc2+')\x20éƒ½æœ‰\x20'+_0x5acc74),_0x4cfca0=!![]);}if(_0x40b6d7===_0x201fc2)for(let _0x1e7801=0x0;_0x1e7801<GRID_SIZE;_0x1e7801++){_0x1e7801!==_0x40b6d7&&gridContentKeys[_0x1e7801][_0x1e7801]===_0x5acc74&&(console[_0x5bf899(0x121)](_0x5bf899(0xd5)+_0x40b6d7+','+_0x201fc2+_0x5bf899(0xfa)+_0x1e7801+','+_0x1e7801+_0x5bf899(0x111)+_0x5acc74),_0x4cfca0=!![]);}if(_0x40b6d7+_0x201fc2===GRID_SIZE-0x1)for(let _0x45769d=0x0;_0x45769d<GRID_SIZE;_0x45769d++){_0x45769d!==_0x40b6d7&&gridContentKeys[_0x45769d][GRID_SIZE-0x1-_0x45769d]===_0x5acc74&&(console[_0x5bf899(0x121)](_0x5bf899(0x108)+_0x40b6d7+','+_0x201fc2+_0x5bf899(0xfa)+_0x45769d+','+(GRID_SIZE-0x1-_0x45769d)+_0x5bf899(0x111)+_0x5acc74),_0x4cfca0=!![]);}}}}for(const [_0xaa1a7a,_0x296008]of Object[_0x5bf899(0x104)](usageCount)){_0x296008>0x3&&(console[_0x5bf899(0x121)](_0x5bf899(0xc1)+_0xaa1a7a+_0x5bf899(0x9e)+_0x296008+'æ¬¡ï¼Œè¶…è¿‡3æ¬¡é™åˆ¶'),_0x4cfca0=!![]);}!_0x4cfca0&&console[_0x5bf899(0x109)](_0x5bf899(0xf6));console[_0x5bf899(0x109)]('---\x20å›¾ç‰‡ä½¿ç”¨ç»Ÿè®¡\x20---');const _0x5ddcad=Object['entries'](usageCount)[_0x5bf899(0x82)]((_0x3eb396,_0x343b9d)=>_0x343b9d[0x1]-_0x3eb396[0x1]);for(const [_0xcbe52c,_0x4ab42e]of _0x5ddcad){_0x4ab42e>0x1&&console[_0x5bf899(0x109)]('\x20\x20'+_0xcbe52c+':\x20'+_0x4ab42e+'æ¬¡');}return!_0x4cfca0;}function markOuterCells(){const _0x4bf605=a3_0x461b7d;for(let _0x2c592c=0x0;_0x2c592c<GRID_SIZE;_0x2c592c++){for(let _0x5e8d3f=0x0;_0x5e8d3f<GRID_SIZE;_0x5e8d3f++){(_0x2c592c===0x0||_0x2c592c===GRID_SIZE-0x1||_0x5e8d3f===0x0||_0x5e8d3f===GRID_SIZE-0x1)&&(cellTypes[_0x2c592c][_0x5e8d3f]=_0x4bf605(0x101));}}}function generateRandomLine(){const _0x5909a9=a3_0x461b7d,_0x2acd66=Math[_0x5909a9(0x118)](Math['random']()*0x4);let _0x3942d4,_0x57d147;switch(_0x2acd66){case 0x0:_0x3942d4=0x1+Math[_0x5909a9(0x118)](Math[_0x5909a9(0xd1)]()*0x7),_0x57d147=0x1+Math[_0x5909a9(0x118)](Math[_0x5909a9(0xd1)]()*0x3);break;case 0x1:_0x3942d4=0x1+Math['floor'](Math[_0x5909a9(0xd1)]()*0x3),_0x57d147=0x1+Math[_0x5909a9(0x118)](Math[_0x5909a9(0xd1)]()*0x7);break;case 0x2:_0x3942d4=0x1+Math[_0x5909a9(0x118)](Math['random']()*0x3),_0x57d147=_0x3942d4;break;case 0x3:_0x3942d4=0x1+Math[_0x5909a9(0x118)](Math[_0x5909a9(0xd1)]()*0x3),_0x57d147=0x9-_0x3942d4-0x6;if(_0x57d147<0x1)_0x57d147=0x1;break;}const _0x3341ba=[],_0x3e917a=[0x0,0x1,0x1,0x1][_0x2acd66],_0xf66539=[0x1,0x0,0x1,-0x1][_0x2acd66];for(let _0x38cfc2=0x0;_0x38cfc2<0x7;_0x38cfc2++){const _0x10b195=_0x3942d4+_0x3e917a*_0x38cfc2,_0x3018f9=_0x57d147+_0xf66539*_0x38cfc2;_0x10b195>=0x1&&_0x10b195<=0x7&&_0x3018f9>=0x1&&_0x3018f9<=0x7&&_0x3341ba[_0x5909a9(0x7b)]({'row':_0x10b195,'col':_0x3018f9});}if(_0x3341ba['length']<0x7)return generateRandomLine();return _0x3341ba;}function linesOverlap(_0x3b8919,_0x112d88){const _0x531044=a3_0x461b7d,_0x2de0cd=new Set();for(const _0x56186e of _0x3b8919){_0x2de0cd[_0x531044(0xac)](_0x56186e[_0x531044(0x99)]+','+_0x56186e[_0x531044(0xa0)]);}for(const _0x405663 of _0x112d88){if(_0x2de0cd[_0x531044(0xd3)](_0x405663[_0x531044(0x99)]+','+_0x405663['col']))return!![];}return![];}function getCrossPoints(_0xfe9be,_0x2cf94e){const _0x346738=a3_0x461b7d,_0x378a3b=new Set(),_0x185213=[];for(const _0xd72a2b of _0xfe9be){_0x378a3b[_0x346738(0xac)](_0xd72a2b['row']+','+_0xd72a2b['col']);}for(const _0xb0d27 of _0x2cf94e){_0x378a3b['has'](_0xb0d27[_0x346738(0x99)]+','+_0xb0d27['col'])&&_0x185213[_0x346738(0x7b)]({'row':_0xb0d27['row'],'col':_0xb0d27['col']});}return _0x185213;}function generateVerticalLine(){const _0xadea70=a3_0x461b7d,_0x41dddd=0x1,_0x4f2ec4=0x1+Math['floor'](Math[_0xadea70(0xd1)]()*0x7),_0x5507d3=[];for(let _0x1d2676=0x0;_0x1d2676<0x7;_0x1d2676++){_0x5507d3[_0xadea70(0x7b)]({'row':_0x41dddd+_0x1d2676,'col':_0x4f2ec4});}return _0x5507d3;}function generateHorizontalLine(){const _0x269660=a3_0x461b7d,_0x447998=0x1+Math[_0x269660(0x118)](Math[_0x269660(0xd1)]()*0x7),_0x5ca33d=0x1,_0x4a70cc=[];for(let _0x293481=0x0;_0x293481<0x7;_0x293481++){_0x4a70cc['push']({'row':_0x447998,'col':_0x5ca33d+_0x293481});}return _0x4a70cc;}function generateCrossingPathLines(){const _0x27d2de=a3_0x461b7d;let _0x353f39=generateRandomLine(),_0x5e3b0d,_0x3c53c2,_0x348b20=0x0;const _0x262118=Math[_0x27d2de(0xd1)]()<pathConfigSettings['crossProbability'];if(!_0x262118){do{_0x5e3b0d=generateRandomLine(),_0x348b20++;if(_0x348b20>0x32){_0x5e3b0d=generateVerticalLine();linesOverlap(_0x353f39,_0x5e3b0d)&&(_0x5e3b0d=generateHorizontalLine());break;}}while(linesOverlap(_0x353f39,_0x5e3b0d));_0x3c53c2=[];}else{_0x348b20=0x0;do{_0x5e3b0d=generateRandomLine(),_0x3c53c2=getCrossPoints(_0x353f39,_0x5e3b0d),_0x348b20++;if(_0x348b20>0x32){console[_0x27d2de(0x109)](_0x27d2de(0xbb)),_0x5e3b0d=generateVerticalLine();linesOverlap(_0x353f39,_0x5e3b0d)&&(_0x5e3b0d=generateHorizontalLine());_0x3c53c2=[];break;}if(_0x3c53c2['length']>=pathConfigSettings[_0x27d2de(0x89)]&&_0x3c53c2['length']<=pathConfigSettings[_0x27d2de(0x75)])break;}while(!![]);}return{'line1':_0x353f39,'line2':_0x5e3b0d,'crossPoints':_0x3c53c2};}function markPathCells(_0x556d97,_0x49ea16,_0x9f9dcd){const _0x27bfbe=a3_0x461b7d,_0x1e6b59=new Set();_0x9f9dcd[_0x27bfbe(0xa6)](_0x206110=>{const _0x4d46c9=_0x27bfbe;_0x1e6b59[_0x4d46c9(0xac)](_0x206110[_0x4d46c9(0x99)]+','+_0x206110[_0x4d46c9(0xa0)]);});for(const _0x59174f of _0x556d97){cellTypes[_0x59174f[_0x27bfbe(0x99)]][_0x59174f['col']]!==_0x27bfbe(0x101)&&(_0x1e6b59[_0x27bfbe(0xd3)](_0x59174f[_0x27bfbe(0x99)]+','+_0x59174f[_0x27bfbe(0xa0)])?cellTypes[_0x59174f[_0x27bfbe(0x99)]][_0x59174f[_0x27bfbe(0xa0)]]=_0x27bfbe(0x9b):cellTypes[_0x59174f['row']][_0x59174f[_0x27bfbe(0xa0)]]=_0x27bfbe(0xea));}for(const _0x45e8de of _0x49ea16){cellTypes[_0x45e8de['row']][_0x45e8de[_0x27bfbe(0xa0)]]!==_0x27bfbe(0x101)&&(!_0x1e6b59[_0x27bfbe(0xd3)](_0x45e8de[_0x27bfbe(0x99)]+','+_0x45e8de[_0x27bfbe(0xa0)])&&(cellTypes[_0x45e8de[_0x27bfbe(0x99)]][_0x45e8de[_0x27bfbe(0xa0)]]=_0x27bfbe(0x129)));}return _0x9f9dcd;}function initGame(_0x3e6af9=![]){const _0x24abae=a3_0x461b7d;gridEl[_0x24abae(0xce)]='';if(!_0x3e6af9){gridData=[],cellTypes=[];for(let _0x478151=0x0;_0x478151<GRID_SIZE;_0x478151++){gridData[_0x478151]=[],cellTypes[_0x478151]=[];for(let _0x432fbc=0x0;_0x432fbc<GRID_SIZE;_0x432fbc++){gridData[_0x478151][_0x432fbc]=![],cellTypes[_0x478151][_0x432fbc]=_0x24abae(0x91);}}markOuterCells();const {line1:_0x2c1b2e,line2:_0x273174,crossPoints:_0x3e1dc6}=generateCrossingPathLines();pathLines=[_0x2c1b2e,_0x273174],markPathCells(_0x2c1b2e,_0x273174,_0x3e1dc6),_0x3e1dc6[_0x24abae(0xd8)]>0x0&&console[_0x24abae(0x109)](_0x24abae(0x8f)+_0x3e1dc6['length']);}fillGridImagesByCoord();for(let _0x487606=0x0;_0x487606<GRID_SIZE;_0x487606++){for(let _0xa9630a=0x0;_0xa9630a<GRID_SIZE;_0xa9630a++){const _0x2ce71f=document[_0x24abae(0xd2)](_0x24abae(0xe8));_0x2ce71f['classList'][_0x24abae(0xac)](_0x24abae(0xbf));_0x3e6af9&&gridData[_0x487606]&&gridData[_0x487606][_0xa9630a]&&_0x2ce71f[_0x24abae(0x103)][_0x24abae(0xac)](_0x24abae(0x9a));const _0x3b3952=gridImageKeys[_0x487606][_0xa9630a],_0x14987e=_0x487606*0x9+_0xa9630a+0x1;if(_0x3b3952){const _0x40b22c=document[_0x24abae(0xd2)](_0x24abae(0xe4));_0x40b22c[_0x24abae(0xef)]=_0x3b3952,_0x40b22c[_0x24abae(0x8d)]['width']='100%',_0x40b22c[_0x24abae(0x8d)]['height']=_0x24abae(0x11a),_0x40b22c[_0x24abae(0x8d)][_0x24abae(0xa8)]=_0x24abae(0xf4),_0x40b22c[_0x24abae(0x8d)][_0x24abae(0x7d)]='block',_0x40b22c[_0x24abae(0x8e)]=function(){const _0x232958=_0x24abae;this[_0x232958(0x8d)][_0x232958(0x7d)]='none',_0x2ce71f[_0x232958(0xb9)]=_0x14987e,_0x2ce71f[_0x232958(0x8d)][_0x232958(0x110)]=_0x232958(0x88),_0x2ce71f[_0x232958(0x8d)][_0x232958(0x113)]='12px',_0x2ce71f[_0x232958(0x8d)][_0x232958(0x7d)]=_0x232958(0x8c),_0x2ce71f[_0x232958(0x8d)][_0x232958(0x120)]=_0x232958(0x80),_0x2ce71f[_0x232958(0x8d)][_0x232958(0x70)]=_0x232958(0x80),_0x2ce71f[_0x232958(0x8d)][_0x232958(0x119)]=_0x232958(0xb4),console[_0x232958(0x109)]('å›¾ç‰‡ä¸¢å¤±:',_0x3b3952);},_0x2ce71f[_0x24abae(0x74)](_0x40b22c);}else _0x2ce71f['innerText']='?',_0x2ce71f[_0x24abae(0x8d)][_0x24abae(0x110)]=_0x24abae(0x92);_0x2ce71f[_0x24abae(0xb1)](_0x24abae(0xd7),()=>handleClick(_0x487606,_0xa9630a,_0x2ce71f)),gridEl['appendChild'](_0x2ce71f);}}}function generateNewGrid(){initGame();}function selectMode(_0x4ed9f2,_0x290faa){const _0x530f9e=a3_0x461b7d;currentTarget=_0x4ed9f2,ruleText[_0x530f9e(0xb9)]=_0x4ed9f2,updateModeUI(_0x4ed9f2);}function updateModeUI(_0x4972f2){const _0x12d02a=a3_0x461b7d;document['querySelectorAll']('.mode-btn')[_0x12d02a(0xa6)](_0x4c0b81=>{const _0x3b87d8=_0x12d02a;_0x4c0b81[_0x3b87d8(0x103)][_0x3b87d8(0xe5)](_0x3b87d8(0x9a)),parseInt(_0x4c0b81[_0x3b87d8(0xdd)](_0x3b87d8(0x10c)))===_0x4972f2&&_0x4c0b81['classList'][_0x3b87d8(0xac)]('active');});}function handleClick(_0x3f7bad,_0x508b70,_0x2b1160){const _0x55901c=a3_0x461b7d;gridData[_0x3f7bad][_0x508b70]=!gridData[_0x3f7bad][_0x508b70],gridData[_0x3f7bad][_0x508b70]?_0x2b1160[_0x55901c(0x103)][_0x55901c(0xac)](_0x55901c(0x9a)):_0x2b1160[_0x55901c(0x103)]['remove'](_0x55901c(0x9a)),checkWin();}function checkWin(){for(let _0x5530e2=0x0;_0x5530e2<GRID_SIZE;_0x5530e2++){for(let _0x1636ab=0x0;_0x1636ab<GRID_SIZE;_0x1636ab++){if(!gridData[_0x5530e2][_0x1636ab])continue;if(checkLine(_0x5530e2,_0x1636ab,0x0,0x1))return win();if(checkLine(_0x5530e2,_0x1636ab,0x1,0x0))return win();if(checkLine(_0x5530e2,_0x1636ab,0x1,0x1))return win();if(checkLine(_0x5530e2,_0x1636ab,0x1,-0x1))return win();}}}function checkLine(_0x2b2eb8,_0xa1afbb,_0x2a0c57,_0x2746ad){let _0x284900=0x0;for(let _0xea6378=0x0;_0xea6378<currentTarget;_0xea6378++){const _0x749902=_0x2b2eb8+_0x2a0c57*_0xea6378,_0x5a8b27=_0xa1afbb+_0x2746ad*_0xea6378;if(_0x749902<0x0||_0x749902>=GRID_SIZE||_0x5a8b27<0x0||_0x5a8b27>=GRID_SIZE)return![];if(!gridData[_0x749902][_0x5a8b27])return![];_0x284900++;}return _0x284900===currentTarget;}function win(){const _0x4a7f29=a3_0x461b7d,_0x4db69a=document[_0x4a7f29(0xa4)](_0x4a7f29(0xc4));_0x4db69a[_0x4a7f29(0xa6)](_0x59632c=>{const _0x3dc799=_0x4a7f29;_0x59632c[_0x3dc799(0x103)][_0x3dc799(0xac)](_0x3dc799(0xb2));}),setTimeout(()=>{const _0x19f092=_0x4a7f29;modal['style'][_0x19f092(0x7d)]=_0x19f092(0x8c),setTimeout(()=>{const _0x2951c2=_0x19f092;_0x4db69a[_0x2951c2(0xa6)](_0x47a04e=>{const _0x42c599=_0x2951c2;_0x47a04e[_0x42c599(0x103)][_0x42c599(0xe5)]('winning');});},0x5dc);},0x1f4);}function a3_0x498c(){const _0x3e8cae=['toString','==========\x20åæ ‡å¡«å……å®Œæˆ\x20==========','\x20(contentKey:\x20','push','åˆ†é…å›¾ç‰‡\x20(','display','outeræ ¼å­(','className','center','2929317gxhLBP','sort','target','images3/path1/','result','parse','ä¿å­˜å†å²è®°å½•å¤±è´¥:','red','minCrossCells','stringify','æ— æ³•è¯»å–æ–‡ä»¶','flex','style','onerror','ç”Ÿæˆäº¤å‰è·¯çº¿ï¼Œäº¤å‰ç‚¹æ•°é‡:\x20','historyList','inner','yellow','content_D',',\x20inner=','content_A','bingo_','fixedImages','weight','row','active','cross','æƒé‡é…ç½®åŠ è½½æˆåŠŸ:',')æ— æ³•æ‰¾åˆ°åˆé€‚å›¾ç‰‡ï¼Œä½¿ç”¨é»˜è®¤:\x20','ä½¿ç”¨äº†','content_G','col','fallback-num','content_H','cellTypes','querySelectorAll','20BHiMCG','forEach','files','objectFit','æ‰€æœ‰\x20','images3/path2/','content_B','add','value',')ä½¿ç”¨innerå›¾ç‰‡æ›¿ä»£:\x20','2-digit','(((.+)+)+)+$','addEventListener','winning','onload','1px\x20solid\x20red',')æ”¾ç½®:\x20','774755WMqzrC','å¼€å§‹é¢„åŠ è½½\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerText','pathLines','æœªèƒ½ç”Ÿæˆäº¤å‰è·¯çº¿ï¼Œä½¿ç”¨ä¸äº¤å‰è·¯çº¿','46146627RgBHwl','<div\x20class=\x22preview-cell\x20','timestamp','cell','images3/outer/','âŒ\x20å›¾ç‰‡','gridImageKeys','span','.cell.active',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22time\x22>ğŸ•’\x20','content_L','unshift','inneræ ¼å­(','setItem','7bZFhOg','content_M','height','modal','innerHTML','getElementById','getItem','random','createElement','has','currentTarget','âŒ\x20å¤–éƒ¨åŒºåŸŸä¸»å¯¹è§’çº¿é‡å¤:\x20(','images','click','length','\x20æ¬¡ç”Ÿæˆ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mode\x22>','href','historyBadge','åŠ è½½å¤±è´¥','getAttribute','==========\x20å¼€å§‹åæ ‡å¡«å……\x20==========','json','none','content_K','constructor','zh-CN','img','remove','search','toggle','div','8px','path1','8346108gUkoCm','open','å¯¼å…¥æˆåŠŸï¼','<div\x20class=\x22history-empty\x22>æš‚æ— å†å²è®°å½•<br>ç‚¹å‡»\x22é‡æ–°ç”Ÿæˆ\x22å¼€å§‹è®°å½•</div>','src','apply',')æ”¾å®½ä½¿ç”¨æ¬¡æ•°é™åˆ¶:\x20','bingoHistory','2366646NTeRNI','cover','imageCount','âœ…\x20ç½‘æ ¼éªŒè¯é€šè¿‡ï¼','gridImages',',\x20outer=','min',')\x20å’Œ\x20(','historyPanel','application/json','content_I','grid','removeItem','jpg','outer','6307712POzcGE','classList','entries','lazy','location','content_J','âŒ\x20å¤–éƒ¨åŒºåŸŸå‰¯å¯¹è§’çº¿é‡å¤:\x20(','log','æ ¼å­(','\x22></div>','data-mode','\x22\x20onclick=\x22loadHistory(','âŒ\x20å†…éƒ¨åŒºåŸŸé‚»æ ¼é‡å¤:\x20(','æ–‡ä»¶æ ¼å¼ä¸æ­£ç¡®','color',')\x20éƒ½æœ‰\x20','width','fontSize','now','mode','gridData','âŒ\x20å¤–éƒ¨åŒºåŸŸè¡Œé‡å¤:\x20(','floor','border','100%','---\x20å¼€å§‹éªŒè¯ç½‘æ ¼\x20---','images3/inner/','block','readAsText','865256ZxDgLE','alignItems','error','revokeObjectURL',',\x20æ€»ä½¿ç”¨:\x20','ç¡®å®šè¦è¿”å›ä¸»èœå•å—ï¼Ÿ','extension','items','marked','warn','path2','createObjectURL','åŠ è½½å†å²è®°å½•å¤±è´¥:','åŠ è½½æƒé‡é…ç½®å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤æƒé‡:','æ ¼å­åˆ†å¸ƒ:\x20path1=','content_C','---\x20ä¸º',',\x20cross=','.cell\x20img','content_E','justifyContent',',\x20path2=','---\x20å¡«å……inneråŒºåŸŸ\x20---','folder','appendChild','maxCrossCells','å¼ å›¾ç‰‡)\x20---','âŒ\x20å¤–éƒ¨åŒºåŸŸåˆ—é‡å¤:\x20('];a3_0x498c=function(){return _0x3e8cae;};return a3_0x498c();}function closeModal(){const _0x376a18=a3_0x461b7d;modal[_0x376a18(0x8d)][_0x376a18(0x7d)]=_0x376a18(0xe0);}function exportDoc(){const _0x5c98a5=a3_0x461b7d,_0x183fa9={'gridData':gridData,'cellTypes':cellTypes,'pathLines':pathLines,'currentTarget':currentTarget,'gridImageKeys':gridImageKeys},_0x139f11=new Blob([JSON[_0x5c98a5(0x8a)](_0x183fa9,null,0x2)],{'type':_0x5c98a5(0xfc)}),_0xc5fa17=URL[_0x5c98a5(0x12a)](_0x139f11),_0x382db6=document['createElement']('a');_0x382db6['href']=_0xc5fa17,_0x382db6['download']=_0x5c98a5(0x96)+Date['now']()+'.json',_0x382db6[_0x5c98a5(0xd7)](),URL[_0x5c98a5(0x122)](_0xc5fa17);}function triggerImport(){const _0x5b5e3e=a3_0x461b7d;fileInput[_0x5b5e3e(0xd7)]();}function handleFileLoad(_0x2384db){const _0x582811=a3_0x461b7d,_0x36b521=_0x2384db[_0x582811(0x83)][_0x582811(0xa7)][0x0];if(!_0x36b521)return;const _0x1c6eba=new FileReader();_0x1c6eba[_0x582811(0xb3)]=function(_0x20d687){const _0x44885e=_0x582811;try{const _0x24c2c5=JSON['parse'](_0x20d687[_0x44885e(0x83)][_0x44885e(0x85)]);_0x24c2c5[_0x44885e(0x116)]&&_0x24c2c5[_0x44885e(0xa3)]?(gridData=_0x24c2c5[_0x44885e(0x116)],cellTypes=_0x24c2c5[_0x44885e(0xa3)],pathLines=_0x24c2c5[_0x44885e(0xba)]||[],currentTarget=_0x24c2c5[_0x44885e(0xd4)]||0x3,_0x24c2c5[_0x44885e(0xc2)]&&(gridImageKeys=_0x24c2c5[_0x44885e(0xc2)]),ruleText[_0x44885e(0xb9)]=currentTarget,updateModeUI(currentTarget),initGame(!![]),alert(_0x44885e(0xed))):alert(_0x44885e(0x10f));}catch(_0xc3bed0){console[_0x44885e(0x121)](_0xc3bed0),alert(_0x44885e(0x8b));}fileInput[_0x44885e(0xad)]='';},_0x1c6eba[_0x582811(0x11e)](_0x36b521);}function goHome(){const _0xb88c4c=a3_0x461b7d;confirm(_0xb88c4c(0x124))&&(window[_0xb88c4c(0x106)][_0xb88c4c(0xda)]='index.html');}function openWeapp(){alert('è¯·åœ¨å¾®ä¿¡ä¸­æœç´¢\x22çŸ³ç«ç”µç«\x22å°ç¨‹åº');}function toggleHistoryPanel(){const _0x20309e=a3_0x461b7d,_0x1c01b8=document[_0x20309e(0xcf)](_0x20309e(0xfb));_0x1c01b8['classList'][_0x20309e(0xe7)](_0x20309e(0xec));}function saveToHistory(){const _0x5d098e=a3_0x461b7d,_0x41ec58=[],_0x56ad67=document[_0x5d098e(0xa4)](_0x5d098e(0x6e));_0x56ad67[_0x5d098e(0xa6)](_0x3b8248=>{const _0x953ded=_0x5d098e;_0x41ec58[_0x953ded(0x7b)](_0x3b8248[_0x953ded(0xef)]);});const _0x44e42b={'id':Date[_0x5d098e(0x114)](),'timestamp':new Date()['toLocaleString'](_0x5d098e(0xe3),{'month':_0x5d098e(0xaf),'day':_0x5d098e(0xaf),'hour':_0x5d098e(0xaf),'minute':'2-digit','second':_0x5d098e(0xaf)}),'mode':currentTarget,'gridData':JSON[_0x5d098e(0x86)](JSON[_0x5d098e(0x8a)](gridData)),'cellTypes':JSON[_0x5d098e(0x86)](JSON['stringify'](cellTypes)),'pathLines':JSON[_0x5d098e(0x86)](JSON[_0x5d098e(0x8a)](pathLines)),'gridImages':_0x41ec58};historyRecords[_0x5d098e(0xc7)](_0x44e42b),historyRecords[_0x5d098e(0xd8)]>MAX_HISTORY&&(historyRecords=historyRecords['slice'](0x0,MAX_HISTORY)),currentHistoryIndex=-0x1,renderHistoryList(),updateHistoryBadge(),saveHistoryToStorage();}function renderHistoryList(){const _0x4f6107=a3_0x461b7d,_0x1c7bc1=document[_0x4f6107(0xcf)](_0x4f6107(0x90));if(historyRecords['length']===0x0){_0x1c7bc1[_0x4f6107(0xce)]=_0x4f6107(0xee);return;}let _0x317af1='';historyRecords['forEach']((_0x281212,_0x37b47f)=>{const _0x4d1087=_0x4f6107,_0x3ca893=_0x37b47f===currentHistoryIndex?_0x4d1087(0x9a):'';let _0x41c21c='';for(let _0x251b94=0x0;_0x251b94<0x51;_0x251b94++){const _0x1e93b4=Math['floor'](_0x251b94/0x9),_0x1afd67=_0x251b94%0x9,_0xe2804f=_0x281212['gridData'][_0x1e93b4]&&_0x281212[_0x4d1087(0x116)][_0x1e93b4][_0x1afd67]?_0x4d1087(0x127):'',_0x29a81f=_0x281212['gridImages']&&_0x281212[_0x4d1087(0xf7)][_0x251b94]?_0x281212['gridImages'][_0x251b94]:'';_0x29a81f?_0x41c21c+=_0x4d1087(0xbd)+_0xe2804f+'\x22><img\x20src=\x22'+_0x29a81f+'\x22\x20onerror=\x22this.style.display=\x27none\x27\x22></div>':_0x41c21c+=_0x4d1087(0xbd)+_0xe2804f+_0x4d1087(0x10b);}_0x317af1+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22history-item\x20'+_0x3ca893+_0x4d1087(0x10d)+_0x37b47f+_0x4d1087(0xc5)+_0x281212[_0x4d1087(0xbe)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ç¬¬\x20'+(historyRecords[_0x4d1087(0xd8)]-_0x37b47f)+_0x4d1087(0xd9)+_0x281212['mode']+'è¿</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22preview\x22>'+_0x41c21c+_0x4d1087(0xb8);}),_0x1c7bc1[_0x4f6107(0xce)]=_0x317af1;}function loadHistory(_0x31599c){const _0x4c693d=a3_0x461b7d;if(_0x31599c<0x0||_0x31599c>=historyRecords[_0x4c693d(0xd8)])return;const _0x57b110=historyRecords[_0x31599c];currentHistoryIndex=_0x31599c,gridData=JSON[_0x4c693d(0x86)](JSON[_0x4c693d(0x8a)](_0x57b110['gridData'])),cellTypes=JSON['parse'](JSON['stringify'](_0x57b110[_0x4c693d(0xa3)])),pathLines=JSON[_0x4c693d(0x86)](JSON['stringify'](_0x57b110['pathLines'])),currentTarget=_0x57b110[_0x4c693d(0x115)],ruleText['innerText']=currentTarget,updateModeUI(currentTarget),renderGridFromHistory(_0x57b110),renderHistoryList();}function renderGridFromHistory(_0x6d75ae){const _0xda47bb=a3_0x461b7d;gridEl[_0xda47bb(0xce)]='';for(let _0x5e585a=0x0;_0x5e585a<GRID_SIZE;_0x5e585a++){for(let _0x10e04d=0x0;_0x10e04d<GRID_SIZE;_0x10e04d++){const _0x59a349=document[_0xda47bb(0xd2)](_0xda47bb(0xe8));_0x59a349[_0xda47bb(0x103)][_0xda47bb(0xac)](_0xda47bb(0xbf));gridData[_0x5e585a][_0x10e04d]&&_0x59a349[_0xda47bb(0x103)][_0xda47bb(0xac)](_0xda47bb(0x9a));const _0x4843e0=_0x5e585a*0x9+_0x10e04d,_0x3ac71a=document[_0xda47bb(0xd2)]('img');_0x6d75ae[_0xda47bb(0xf7)]&&_0x6d75ae[_0xda47bb(0xf7)][_0x4843e0]&&(_0x3ac71a[_0xda47bb(0xef)]=_0x6d75ae[_0xda47bb(0xf7)][_0x4843e0]);_0x3ac71a['loading']=_0xda47bb(0x105),_0x3ac71a[_0xda47bb(0x112)]=0x32,_0x3ac71a[_0xda47bb(0xcc)]=0x32;const _0x40aade=document['createElement'](_0xda47bb(0xc3));_0x40aade[_0xda47bb(0x7f)]=_0xda47bb(0xa1),_0x40aade['innerText']=_0x4843e0+0x1,_0x40aade[_0xda47bb(0x8d)]['display']=_0xda47bb(0xe0),_0x59a349['appendChild'](_0x40aade),_0x3ac71a[_0xda47bb(0x8e)]=function(){const _0x3022db=_0xda47bb;this[_0x3022db(0x8d)][_0x3022db(0x7d)]=_0x3022db(0xe0),_0x40aade[_0x3022db(0x8d)][_0x3022db(0x7d)]=_0x3022db(0x11d),_0x40aade[_0x3022db(0xb9)]=_0x3022db(0xdc),_0x40aade[_0x3022db(0x8d)]['color']='#ff0000',_0x40aade[_0x3022db(0x8d)][_0x3022db(0x113)]=_0x3022db(0xe9);},_0x59a349[_0xda47bb(0x74)](_0x3ac71a),_0x59a349['addEventListener']('click',()=>handleClick(_0x5e585a,_0x10e04d,_0x59a349)),gridEl[_0xda47bb(0x74)](_0x59a349);}}}function updateHistoryBadge(){const _0xbdbcc9=a3_0x461b7d,_0x59c9e8=document[_0xbdbcc9(0xcf)](_0xbdbcc9(0xdb));_0x59c9e8['textContent']=historyRecords['length'];}function clearHistory(){const _0x5dcb24=a3_0x461b7d;if(historyRecords[_0x5dcb24(0xd8)]===0x0)return;confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰å†å²è®°å½•å—ï¼Ÿ')&&(historyRecords=[],currentHistoryIndex=-0x1,renderHistoryList(),updateHistoryBadge(),localStorage[_0x5dcb24(0xff)](_0x5dcb24(0xf2)));}function saveHistoryToStorage(){const _0x2a9094=a3_0x461b7d;try{localStorage[_0x2a9094(0xc9)](_0x2a9094(0xf2),JSON[_0x2a9094(0x8a)](historyRecords));}catch(_0x36d1ef){console[_0x2a9094(0x128)](_0x2a9094(0x87),_0x36d1ef);}}function loadHistoryFromStorage(){const _0x3b9104=a3_0x461b7d;try{const _0x492187=localStorage[_0x3b9104(0xd0)](_0x3b9104(0xf2));_0x492187&&(historyRecords=JSON[_0x3b9104(0x86)](_0x492187),renderHistoryList(),updateHistoryBadge());}catch(_0x7b7d17){console[_0x3b9104(0x128)](_0x3b9104(0x12b),_0x7b7d17);}}const originalGenerateNewGrid=generateNewGrid;generateNewGrid=function(){const _0x14c9da=a3_0x461b7d,_0x258c15=document[_0x14c9da(0xa4)]('.cell\x20img');_0x258c15[_0x14c9da(0xd8)]>0x0&&_0x258c15[0x0][_0x14c9da(0xef)]&&saveToHistory(),currentHistoryIndex=-0x1,initGame(),renderHistoryList();};const imageCache={};function preloadImages(){const _0x1db2cb=a3_0x461b7d,_0x359f79=[];outerConfig[_0x1db2cb(0xd6)][_0x1db2cb(0xa6)](_0x5b2434=>_0x359f79[_0x1db2cb(0x7b)](outerConfig[_0x1db2cb(0x73)]+_0x5b2434)),path1Config[_0x1db2cb(0x97)][_0x1db2cb(0xa6)](_0x254441=>_0x359f79['push'](path1Config[_0x1db2cb(0x73)]+_0x254441)),path2Config[_0x1db2cb(0x97)][_0x1db2cb(0xa6)](_0x199848=>_0x359f79[_0x1db2cb(0x7b)](path2Config[_0x1db2cb(0x73)]+_0x199848)),innerConfig[_0x1db2cb(0xd6)]['forEach'](_0x357096=>_0x359f79[_0x1db2cb(0x7b)](innerConfig[_0x1db2cb(0x73)]+_0x357096));let _0x3106c1=0x0;const _0x263fb1=_0x359f79[_0x1db2cb(0xd8)];_0x359f79[_0x1db2cb(0xa6)](_0x2b10c5=>{const _0x117eb8=_0x1db2cb,_0x3a4df4=new Image();_0x3a4df4[_0x117eb8(0xb3)]=function(){const _0x517e2d=_0x117eb8;imageCache[_0x2b10c5]=!![],_0x3106c1++,_0x3106c1===_0x263fb1&&console[_0x517e2d(0x109)](_0x517e2d(0xa9)+_0x263fb1+'\x20å¼ å›¾ç‰‡é¢„åŠ è½½å®Œæˆ');},_0x3a4df4[_0x117eb8(0x8e)]=function(){const _0xa00a10=_0x117eb8;console[_0xa00a10(0x128)]('é¢„åŠ è½½å¤±è´¥:\x20'+_0x2b10c5),_0x3106c1++;},_0x3a4df4[_0x117eb8(0xef)]=_0x2b10c5;}),console[_0x1db2cb(0x109)](_0x1db2cb(0xb7)+_0x263fb1+'\x20å¼ å›¾ç‰‡...');}function isImageCached(_0x437159){return imageCache[_0x437159]===!![];}(async function(){await loadWeightsConfig(),loadHistoryFromStorage(),preloadImages(),initGame();}());